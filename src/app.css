@import 'tailwindcss';

/*
 * Running Days Theme - Design System
 *
 * OKLCH-based colors for perceptual uniformity.
 * Two variants:
 * - Dark: Bioluminescent ocean aesthetics with deep blues and warm accents
 * - Light: Golden hour aesthetics with warm creams and sunset colors
 */

/* Dark theme (Bioluminescence) - Default */
:root,
:root[data-theme='dark'] {
	/* Background colors - deep ocean blues with depth */
	--bg-primary: oklch(0.12 0.03 260);
	--bg-secondary: oklch(0.16 0.035 265);
	--bg-tertiary: oklch(0.1 0.025 258);
	--bg-elevated: oklch(0.19 0.04 262);
	--bg-hover: oklch(0.23 0.045 264);

	/* Foreground colors - soft whites with luminescence */
	--fg-primary: oklch(0.96 0.03 200);
	--fg-secondary: oklch(0.78 0.04 205);
	--fg-tertiary: oklch(0.58 0.03 210);
	--fg-disabled: oklch(0.42 0.02 215);

	/* Accent colors - vivid bioluminescent glow */
	--accent-primary: oklch(0.78 0.22 45);
	--accent-secondary: oklch(0.72 0.18 52);
	--accent-muted: oklch(0.6 0.14 48);

	/* Agent state colors */
	--agent-thinking: oklch(0.7 0.15 180);
	--agent-executing: oklch(0.75 0.18 40);
	--agent-waiting: oklch(0.6 0.12 280);
	--agent-streaming: oklch(0.72 0.16 160);

	/* Semantic colors */
	--semantic-success: oklch(0.7 0.18 145);
	--semantic-warning: oklch(0.75 0.18 75);
	--semantic-error: oklch(0.65 0.2 25);
	--semantic-info: oklch(0.7 0.15 230);

	/* Tool approval colors */
	--tool-safe: oklch(0.7 0.18 145);
	--tool-caution: oklch(0.75 0.18 75);
	--tool-danger: oklch(0.65 0.2 25);

	/* Border colors */
	--border-default: oklch(0.3 0.03 260);
	--border-focused: oklch(0.75 0.18 40);
	--border-muted: oklch(0.22 0.02 260);

	/* Spacing */
	--space-xs: 0.25rem;
	--space-sm: 0.5rem;
	--space-md: 1rem;
	--space-lg: 1.5rem;
	--space-xl: 2rem;
	--space-xxl: 3rem;

	/* Radius */
	--radius-sm: 0.25rem;
	--radius-md: 0.5rem;
	--radius-lg: 0.75rem;
	--radius-full: 9999px;

	/* Transitions */
	--transition-fast: 150ms ease;
	--transition-normal: 250ms ease;
	--transition-slow: 400ms ease;

	/* Panel widths */
	--panel-chat: 70%;
	--panel-side: 30%;
	--sidebar-width: 16rem;

	/* Fluid typography scale */
	--text-xs: clamp(0.625rem, 0.5rem + 0.5vw, 0.75rem);
	--text-sm: clamp(0.75rem, 0.625rem + 0.5vw, 0.875rem);
	--text-base: clamp(0.875rem, 0.75rem + 0.5vw, 1rem);
	--text-lg: clamp(1rem, 0.875rem + 0.5vw, 1.125rem);
	--text-xl: clamp(1.125rem, 1rem + 0.5vw, 1.25rem);
	--text-2xl: clamp(1.25rem, 1rem + 1vw, 1.5rem);
	--text-hero: clamp(2rem, 1.5rem + 2.5vw, 4rem);

	/* Fluid spacing */
	--space-fluid-xs: clamp(0.125rem, 0.1rem + 0.25vw, 0.25rem);
	--space-fluid-sm: clamp(0.25rem, 0.2rem + 0.5vw, 0.5rem);
	--space-fluid-md: clamp(0.5rem, 0.4rem + 0.75vw, 1rem);
	--space-fluid-lg: clamp(0.75rem, 0.5rem + 1vw, 1.5rem);
	--space-fluid-xl: clamp(1rem, 0.75rem + 1.5vw, 2rem);
}

/* Light theme (Golden Hour) */
:root[data-theme='light'] {
	/* Background colors - warm creams and soft golds */
	--bg-primary: oklch(0.97 0.02 75);
	--bg-secondary: oklch(0.94 0.025 70);
	--bg-tertiary: oklch(0.99 0.015 80);
	--bg-elevated: oklch(0.92 0.03 65);
	--bg-hover: oklch(0.9 0.035 68);

	/* Foreground colors - warm darks */
	--fg-primary: oklch(0.25 0.02 60);
	--fg-secondary: oklch(0.45 0.02 55);
	--fg-tertiary: oklch(0.6 0.02 50);
	--fg-disabled: oklch(0.7 0.01 50);

	/* Accent colors - sunset warmth */
	--accent-primary: oklch(0.65 0.18 45);
	--accent-secondary: oklch(0.7 0.15 55);
	--accent-muted: oklch(0.75 0.1 50);

	/* Agent state colors - warm variants */
	--agent-thinking: oklch(0.6 0.15 200);
	--agent-executing: oklch(0.65 0.18 45);
	--agent-waiting: oklch(0.7 0.12 285);
	--agent-streaming: oklch(0.62 0.16 165);

	/* Semantic colors - light mode adjusted */
	--semantic-success: oklch(0.55 0.18 150);
	--semantic-warning: oklch(0.6 0.18 70);
	--semantic-error: oklch(0.55 0.2 30);
	--semantic-info: oklch(0.55 0.15 235);

	/* Tool approval colors */
	--tool-safe: oklch(0.55 0.18 150);
	--tool-caution: oklch(0.6 0.18 70);
	--tool-danger: oklch(0.55 0.2 30);

	/* Border colors - soft golden tones */
	--border-default: oklch(0.82 0.03 65);
	--border-focused: oklch(0.65 0.18 45);
	--border-muted: oklch(0.88 0.02 70);
}

/* Base styles */
body {
	background-color: var(--bg-primary);
	color: var(--fg-primary);
	font-family: ui-monospace, SFMono-Regular, 'SF Mono', Menlo, Monaco, Consolas, monospace;
	/* Add subtle animated gradient for living ocean effect (dark mode only) */
	background-image:
		radial-gradient(ellipse at 20% 50%, oklch(0.18 0.08 220 / 0.3), transparent 50%),
		radial-gradient(ellipse at 80% 30%, oklch(0.15 0.06 180 / 0.25), transparent 50%),
		radial-gradient(ellipse at 50% 80%, oklch(0.14 0.05 260 / 0.2), transparent 50%);
	background-size: 200% 200%;
	animation: ocean-breathe 20s ease-in-out infinite;
}

/* Light theme removes animated background */
:root[data-theme='light'] body {
	background-image: none;
	animation: none;
}

/* Scrollbar styling */
::-webkit-scrollbar {
	width: 8px;
	height: 8px;
}

::-webkit-scrollbar-track {
	background: var(--bg-tertiary);
}

::-webkit-scrollbar-thumb {
	background: var(--border-default);
	border-radius: var(--radius-full);
}

::-webkit-scrollbar-thumb:hover {
	background: var(--fg-tertiary);
}

/* Selection styling */
::selection {
	background: var(--accent-muted);
	color: var(--fg-primary);
}

/* Focus ring styling */
:focus-visible {
	outline: 2px solid var(--accent-primary);
	outline-offset: 2px;
}

/* Custom utility classes */
@layer utilities {
	.bg-primary {
		background-color: var(--bg-primary);
	}
	.bg-secondary {
		background-color: var(--bg-secondary);
	}
	.bg-tertiary {
		background-color: var(--bg-tertiary);
	}
	.bg-elevated {
		background-color: var(--bg-elevated);
	}
	.bg-hover {
		background-color: var(--bg-hover);
	}

	.text-primary {
		color: var(--fg-primary);
	}
	.text-secondary {
		color: var(--fg-secondary);
	}
	.text-tertiary {
		color: var(--fg-tertiary);
	}
	.text-disabled {
		color: var(--fg-disabled);
	}

	.text-accent {
		color: var(--accent-primary);
		text-shadow: 0 0 8px oklch(0.78 0.22 45 / 0.4);
	}
	.text-accent-secondary {
		color: var(--accent-secondary);
	}
	.text-accent-muted {
		color: var(--accent-muted);
	}

	.text-success {
		color: var(--semantic-success);
	}
	.text-warning {
		color: var(--semantic-warning);
	}
	.text-error {
		color: var(--semantic-error);
	}
	.text-info {
		color: var(--semantic-info);
	}

	.text-thinking {
		color: var(--agent-thinking);
	}
	.text-executing {
		color: var(--agent-executing);
	}
	.text-streaming {
		color: var(--agent-streaming);
	}

	.border-default {
		border-color: var(--border-default);
	}
	.border-focused {
		border-color: var(--border-focused);
	}
	.border-muted {
		border-color: var(--border-muted);
	}

	.bg-accent {
		background-color: var(--accent-primary);
		box-shadow: 0 0 20px -5px var(--accent-primary);
		animation: bioluminescent-pulse 3s ease-in-out infinite;
	}
	.bg-success {
		background-color: var(--semantic-success);
	}
	.bg-warning {
		background-color: var(--semantic-warning);
	}
	.bg-error {
		background-color: var(--semantic-error);
	}
	.bg-info {
		background-color: var(--semantic-info);
	}

	.transition-fast {
		transition: all var(--transition-fast);
	}
	.transition-normal {
		transition: all var(--transition-normal);
	}
	.transition-slow {
		transition: all var(--transition-slow);
	}
}

/* Mobile-first responsive utilities */
@layer utilities {
	/* Safe area insets for mobile */
	.safe-top {
		padding-top: env(safe-area-inset-top, 0);
	}
	.safe-bottom {
		padding-bottom: env(safe-area-inset-bottom, 0);
	}
	.safe-left {
		padding-left: env(safe-area-inset-left, 0);
	}
	.safe-right {
		padding-right: env(safe-area-inset-right, 0);
	}

	/* Dynamic viewport height */
	.h-dvh {
		height: 100dvh;
	}
	.min-h-dvh {
		min-height: 100dvh;
	}

	/* Touch-friendly sizing */
	.touch-target {
		min-height: 44px;
		min-width: 44px;
	}
}

/* Container queries */
@container (max-width: 400px) {
	.container-sm\:p-2 {
		padding: 0.5rem;
	}
	.container-sm\:text-sm {
		font-size: var(--text-sm);
	}
}

/* Animation keyframes */
@keyframes pulse-glow {
	0%,
	100% {
		opacity: 1;
		filter: brightness(1) drop-shadow(0 0 8px var(--accent-primary));
	}
	50% {
		opacity: 0.7;
		filter: brightness(1.2) drop-shadow(0 0 12px var(--accent-primary));
	}
}

@keyframes ocean-breathe {
	0%,
	100% {
		background-position: 0% 50%;
		filter: brightness(1);
	}
	25% {
		background-position: 50% 60%;
		filter: brightness(1.05);
	}
	50% {
		background-position: 100% 50%;
		filter: brightness(1);
	}
	75% {
		background-position: 50% 40%;
		filter: brightness(0.98);
	}
}

@keyframes bioluminescent-pulse {
	0%,
	100% {
		box-shadow:
			0 0 10px -2px var(--accent-primary),
			0 0 20px -5px var(--accent-secondary);
		filter: brightness(1);
	}
	50% {
		box-shadow:
			0 0 15px 0px var(--accent-primary),
			0 0 30px -2px var(--accent-secondary);
		filter: brightness(1.15);
	}
}

@keyframes spin {
	from {
		transform: rotate(0deg);
	}
	to {
		transform: rotate(360deg);
	}
}

@keyframes typing-cursor {
	0%,
	100% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
}

@keyframes slide-in-right {
	from {
		transform: translateX(100%);
		opacity: 0;
	}
	to {
		transform: translateX(0);
		opacity: 1;
	}
}

@keyframes slide-in-up {
	from {
		transform: translateY(10px);
		opacity: 0;
	}
	to {
		transform: translateY(0);
		opacity: 1;
	}
}

.animate-pulse-glow {
	animation: pulse-glow 2s ease-in-out infinite;
}

.animate-typing-cursor {
	animation: typing-cursor 1s ease-in-out infinite;
}

.animate-slide-in-right {
	animation: slide-in-right var(--transition-normal);
}

.animate-slide-in-up {
	animation: slide-in-up var(--transition-fast);
}

/* Staggered fade-up animation */
@keyframes fade-up-stagger {
	from {
		opacity: 0;
		transform: translateY(20px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

.animate-fade-up {
	animation: fade-up-stagger var(--transition-normal) ease-out forwards;
}

/* Stagger delays for lists */
.stagger-1 {
	animation-delay: 50ms;
}
.stagger-2 {
	animation-delay: 100ms;
}
.stagger-3 {
	animation-delay: 150ms;
}
.stagger-4 {
	animation-delay: 200ms;
}
.stagger-5 {
	animation-delay: 250ms;
}

/* Smooth streaming pulse */
@keyframes stream-pulse {
	0%,
	100% {
		box-shadow: 0 0 0 0 var(--agent-streaming);
	}
	50% {
		box-shadow: 0 0 20px 4px oklch(0.72 0.16 160 / 0.3);
	}
}

.animate-stream-pulse {
	animation: stream-pulse 2s ease-in-out infinite;
}

/* Code block styling */
pre,
code {
	font-family: ui-monospace, SFMono-Regular, 'SF Mono', Menlo, Monaco, Consolas, monospace;
}

.code-block {
	background-color: var(--bg-tertiary);
	border: 1px solid var(--border-muted);
	border-radius: var(--radius-md);
	overflow-x: auto;
}

.code-block pre {
	padding: var(--space-md);
	margin: 0;
}

/* Panel styling */
.panel {
	background-color: var(--bg-secondary);
	border: 1px solid var(--border-default);
	border-radius: var(--radius-md);
	transition: all var(--transition-normal);
}

.panel-header {
	background-color: var(--bg-elevated);
	border-bottom: 1px solid var(--border-muted);
	padding: var(--space-sm) var(--space-md);
	cursor: pointer;
	user-select: none;
}

.panel-header:hover {
	background-color: var(--bg-hover);
}

.panel-content {
	padding: var(--space-md);
}

/* Glassmorphism panels */
.panel-glass {
	background: oklch(0.18 0.025 260 / 0.8);
	backdrop-filter: blur(12px) saturate(1.2);
	border: 1px solid oklch(0.3 0.03 260 / 0.5);
	border-radius: var(--radius-lg);
}

/* Atmospheric background */
.bg-atmosphere {
	background:
		radial-gradient(ellipse at 20% 80%, oklch(0.25 0.08 200 / 0.3), transparent 50%),
		radial-gradient(ellipse at 80% 20%, oklch(0.2 0.06 40 / 0.2), transparent 40%),
		var(--bg-primary);
}

/* Gradient mesh for hero sections */
.gradient-mesh {
	background:
		radial-gradient(at 40% 20%, oklch(0.3 0.1 200 / 0.4) 0px, transparent 50%),
		radial-gradient(at 80% 0%, oklch(0.25 0.08 40 / 0.3) 0px, transparent 50%),
		radial-gradient(at 0% 50%, oklch(0.2 0.06 260 / 0.2) 0px, transparent 50%);
}

/* Message styling */
.message {
	animation: slide-in-up var(--transition-fast);
}

.message-user {
	background-color: var(--accent-muted);
	border: 1px solid var(--accent-primary);
}

.message-assistant {
	background-color: var(--bg-secondary);
	border: 1px solid var(--border-default);
}

.message-tool {
	background-color: var(--bg-tertiary);
	border: 1px solid var(--semantic-info);
}

/* Tool approval card */
.tool-approval {
	background-color: var(--bg-elevated);
	border: 2px solid var(--tool-caution);
	border-radius: var(--radius-lg);
	padding: var(--space-lg);
}

.tool-approval.danger {
	border-color: var(--tool-danger);
}

/* Input styling */
.chat-input {
	background-color: var(--bg-secondary);
	border: 1px solid var(--border-default);
	color: var(--fg-primary);
	transition: all var(--transition-fast);
}

.chat-input:focus {
	border-color: var(--accent-primary);
	box-shadow: 0 0 0 2px color-mix(in oklch, var(--accent-primary) 30%, transparent);
}

.chat-input::placeholder {
	color: var(--fg-tertiary);
}

/* Button styling */
.btn {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	gap: var(--space-sm);
	padding: var(--space-sm) var(--space-md);
	border-radius: var(--radius-md);
	font-weight: 500;
	transition: all var(--transition-fast);
	cursor: pointer;
}

.btn-primary {
	background-color: var(--accent-primary);
	color: var(--bg-primary);
}

.btn-primary:hover:not(:disabled) {
	background-color: var(--accent-secondary);
}

.btn-secondary {
	background-color: var(--bg-elevated);
	color: var(--fg-primary);
	border: 1px solid var(--border-default);
}

.btn-secondary:hover:not(:disabled) {
	background-color: var(--bg-hover);
	border-color: var(--border-focused);
}

.btn-danger {
	background-color: var(--semantic-error);
	color: var(--fg-primary);
}

.btn-success {
	background-color: var(--semantic-success);
	color: var(--bg-primary);
}

.btn:disabled {
	opacity: 0.5;
	cursor: not-allowed;
}

/* Badge styling */
.badge {
	display: inline-flex;
	align-items: center;
	padding: 0.125rem 0.5rem;
	border-radius: var(--radius-full);
	font-size: 0.75rem;
	font-weight: 500;
}

.badge-default {
	background-color: var(--bg-elevated);
	color: var(--fg-secondary);
}

.badge-success {
	background-color: var(--semantic-success);
	color: var(--bg-primary);
}

.badge-warning {
	background-color: var(--semantic-warning);
	color: var(--bg-primary);
}

.badge-error {
	background-color: var(--semantic-error);
	color: var(--fg-primary);
}

.badge-info {
	background-color: var(--semantic-info);
	color: var(--bg-primary);
}

.badge-accent {
	background-color: var(--accent-primary);
	color: var(--bg-primary);
}
